1. Implement a better architecture for the processor. Make decisions based on the url and content type. Have sub classes that are specialized in processing the different types. Implement polymorphism for this.
2. Implement 
 