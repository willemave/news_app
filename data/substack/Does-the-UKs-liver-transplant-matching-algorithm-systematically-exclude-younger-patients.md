<p><em>By Arvind Narayanan, Angelina Wang, Sayash Kapoor, and Solon Barocas</em></p><p>Predictive algorithms are used in many life-or-death situations. In the paper <a href="https://www.aisnakeoil.com/p/ai-cannot-predict-the-future-but">Against Predictive Optimization</a>, we argued that the use of predictive logic for making decisions about people has recurring, inherent flaws, and should be rejected in many cases.</p><p>A wrenching case study comes from the UK&#8217;s liver allocation algorithm, which appears to <a href="https://www.ft.com/content/5125c83a-b82b-40c5-8b35-99579e087951">discriminate by age</a>, with some younger patients seemingly unable to receive a transplant, no matter how ill. What went wrong here? Can it be fixed? Or should health systems avoid using algorithms for liver transplant matching?</p><h3><strong>How the liver allocation algorithm works</strong></h3><p>The UK <a href="https://www.odt.nhs.uk/odt-structures-and-standards/odt-hub-programme/national-liver-offering-scheme/">nationalized</a> its liver transplant system in 2018, replacing previous regional systems where livers were prioritized based on disease severity.<a class="footnote-anchor" href="https://www.aisnakeoil.com/feed#footnote-1" id="footnote-anchor-1" target="_self">1</a> When a liver becomes available, the new algorithm uses predictive logic to calculate how much each patient on the national waiting list would benefit from being given that liver.&nbsp;</p><p>Specifically, the algorithm predicts how long each patient would live if they were given that liver, and how long they would live if they didn&#8217;t get a transplant. The difference between the two is the patient&#8217;s Transplant Benefit Score (TBS). Patients are sorted in decreasing order of the score, and the top patient is offered the liver (if they decline, the next patient is offered, and so on).</p><p>Given this description, one would expect that the algorithm would <em>favor</em> younger patients, as they will potentially gain many more decades of life through a transplant compared to older patients. If the algorithm has the opposite effect, either the score has been inaccurately <a href="https://nhsbtdbe.blob.core.windows.net/umbraco-assets-corp/11879/faqs-for-national-liver-offering-scheme-may2018.pdf">portrayed</a> or it is being calculated incorrectly. We&#8217;ll see which one it is. But first, let&#8217;s discuss a more basic question.</p><h3><strong>Why is predictive AI even needed?</strong></h3><p>Discussions of the ethics of algorithmic decision making often narrowly focus on bias, ignoring the question of whether it is <a href="https://predictive-optimization.cs.princeton.edu/">legitimate</a> to use an algorithm in the first place. For example, consider pretrial risk prediction in the criminal justice system. While bias is a serious concern, a deeper question is whether it is morally justified to deny defendants their freedom based on a prediction of what they might do rather than a determination of guilt, especially when that prediction is barely more accurate than a coin flip.&nbsp;</p><p>Organ transplantation is different in many ways. The health system needs to make efficient and ethical use of a very limited and valuable resource, and must find some principled way of allocating it to many deserving people, all of whom have reasonable claims for why they should be entitled to it. There are thousands of potential recipients, and decisions must be made quickly when an organ becomes available. Human judgment doesn&#8217;t scale.<a class="footnote-anchor" href="https://www.aisnakeoil.com/feed#footnote-2" id="footnote-anchor-2" target="_self">2</a>&nbsp;</p><p>Another way to try to avoid the need for predictive algorithms is to <a href="https://arxiv.org/pdf/2312.08511">increase the pool of organs</a> so that they are no longer as scarce. Encouraging people to sign up for organ donation is definitely important. But even if the supply of livers is no longer a constraint, it would still be useful to predict which patient will benefit the most from a <em>specific</em> liver.&nbsp;</p><p>Sometimes <a href="https://5harad.com/papers/simple-rules.pdf">simple statistical formulas</a> provide most of the benefits of predictive AI without the downsides. In fact, the previous liver transplant system in the UK was based on a relatively simple formula for predicting disease severity, called the UK End-stage Liver Disease score, which is based on the blood levels of a few markers. The new system takes into account the benefit of transplantation in addition to disease severity. It is also more of a black box. It is &#8220;AI&#8221; in the sense that it is derived from a data-driven optimization process and is too complex to be mentally understood by doctors or patients. It uses 28 variables from the donor and recipient to make a prediction.&nbsp;</p><p>It seems at least plausible that this complexity is justified in this context because health outcomes are much more predictable than who will commit a crime (though this varies by disease). Follow-up studies have <a href="https://www.journal-of-hepatology.eu/article/S0168-8278(24)00203-4/fulltext">confirmed</a> that the matching algorithm does indeed save more lives than the system that it replaced.</p><p>So there isn&#8217;t necessarily a prima facie case for arguing against the use of the algorithm. Instead, we have to look at the details of what went wrong. Let&#8217;s turn to those details.</p><h3><strong>The Financial Times investigation</strong></h3><p>In November 2023, the Financial Times published a bombshell <a href="https://www.ft.com/content/5125c83a-b82b-40c5-8b35-99579e087951">investigation</a> about bias in the algorithm. It centers on a 31 year old patient, Sarah Meredith, with multiple genetic conditions including cystic fibrosis. It describes her accidental discovery that the Transplant Benefit Score algorithm even existed and would decide her fate; her struggle to understand how it worked; her liver doctors&#8217; lack of even basic knowledge about the algorithm; and her realization that there was no physician override to the TBS score and no appeals process.</p><p>When she reached out to the National Health Service to ask for explanations, Meredith was repeatedly told she wouldn&#8217;t understand. It seems that the paternalism of health systems combined with the <a href="https://royalsocietypublishing.org/doi/10.1098/rsta.2018.0084">myth</a> of the inscrutability of algorithms is a particularly toxic mix.</p><p>Meredith eventually landed on a <a href="https://transplantbenefit.org/">web app</a> that calculates the TBS, built by Professor Ewen Harrison and his team. He is a surgeon and data scientist who has studied the TBS, and is a co-author of a study of some of the failures of the algorithm. It is through this app that Meredith realized how biased the algorithm is. It also shows why the inscrutability of algorithmic decision making is a myth: even without understanding the internals, it is easy to understand the behavior of the system, especially given that a particular patient only cares about how the system behaves in one specific instance.</p><p>But this isn&#8217;t just one patient&#8217;s experience. From the Financial Times piece:</p><blockquote><p>&#8220;If you&#8217;re below 45 years, no matter how ill, it is impossible for you to score high enough to be given priority scores on the list,&#8221; said Palak Trivedi, a consultant hepatologist at the University of Birmingham, which has one of the country&#8217;s largest liver transplant centres.</p></blockquote><p>Finally, a 2024 <a href="https://www.thelancet.com/journals/lanhl/article/PIIS2666-7568(24)00044-8/fulltext">study</a> in The Lancet has confirmed that the algorithm has a severe bias against younger patients.</p><h3><strong>Patient groups warned about the bias</strong></h3><p>The objective of the matching system is to identify the recipient whose life expectancy would be increased the most through the transplant. The obvious way to do this is to predict each patient&#8217;s expected survival time with and without the transplant. This is almost what the algorithm does, but not quite &#8212; it predicts each patient&#8217;s <em>likelihood of surviving 5 years</em> with and without the transplant.</p><p>The problem with this is obvious. A <a href="https://pscsupport.org.uk/what-we-do/lptc/">patient group</a> gave this feedback through official channels in 2015, long before the algorithm went into effect:</p><blockquote><p>Capping survival at five years in effect diminishes the benefits for younger patients as it underestimates the gain in life years by predicting lifetime gain over 5 years, as opposed&nbsp; to the total lifetime gain. Paediatric and small adult patients benefit from accessing small adult livers as a national priority in the Current System. However, young adults must compete directly with all other adult patients. In the proposed model, there is no recognition that a death in a younger patient is associated with a&nbsp; greater number of expected years of life lost compared with the death of an older adult patient. There is also no recognition that longer periods waiting has an impact on younger patients&#8217; prospects, such as career and family,&nbsp; and contribution to society compared with older adult patients. Younger patients have not yet had the chance to live their lives and consideration should be given to how the cohort of younger waiting list patients is affected by rules applied to calculate their benefit.</p></blockquote><p>This is what leads to the algorithm&#8217;s behavior. Younger patients are (correctly) predicted to be more likely to survive 5 years <em>without</em> a transplant, and about as likely as older patients to survive 5 years <em>with</em> a transplant. So younger patients&#8217; predicted net benefit (over a 5-year period) is much less than older patients&#8217;. Over the entire course of their lives, younger patients would likely benefit more, but the algorithm doesn&#8217;t take this into account.</p><h3><strong>Show us the target variable and we&#8217;ll show you the problem</strong></h3><p>It is not clear why the problem was ignored, both in version 1 of the algorithm in 2018 and in version 2 in 2022 which corrected a bias against cancer patients (we&#8217;ll get to that bias in a minute). Perhaps the developers did not recognize how severe the age bias is. Even in a <a href="https://www.journal-of-hepatology.eu/article/S0168-8278(24)00203-4/fulltext">2024 paper</a> about the algorithm, where they briefly discuss many of its limitations <em>including the five-year cap</em>, they do not mention that the cap de-prioritizes younger patients.</p><p>On the other hand, the list of features (donor and recipient characteristics) is prominently listed and discussed in <a href="https://www.odt.nhs.uk/odt-structures-and-standards/odt-hub-programme/national-liver-offering-scheme/">public communications</a> about the system. This may reflect a misconception that the way to understand an algorithm, including its potentially discriminatory effects, is to look at the list of features &#8212; the <em>inputs</em>. In reality, the target variable &#8212; the <em>output</em> &#8212; is often more important for fairness than the features.&nbsp;</p><p>Unfortunately there is little recognition of this crucial fact outside the technical community (and sometimes even within the technical community). Instead there is a narrow focus on removing sensitive variables (such as age, race, or gender) and proxies for the sensitive variables from the list of features, which is <a href="https://fairmlbook.org/classification.html#no-fairness-through-unawareness">usually ineffective</a> and often even <a href="https://www.nejm.org/doi/full/10.1056/NEJMp2311050">counterproductive</a>.</p><p>The choice of a 5-year period seems to be because of <a href="https://www.journal-of-hepatology.eu/article/S0168-8278(24)00203-4/fulltext">data availability</a>: &#8220;This length of follow-up was selected as data were readily available ... while longer follow-up was not.&#8221; In our experience, there is almost always some difficulty that prevents accurately measuring the true construct of interest, which is why this is one of the recurring flaws we identify in the <a href="https://predictive-optimization.cs.princeton.edu/">Against Predictive Optimization</a> paper. It is a <a href="https://arxiv.org/abs/1912.05511">target-construct mismatch</a>, because what is being predicted, the target, differs from what we actually want to predict, the construct.</p><h3><strong>It gets worse</strong></h3><p>The cap means that the expected survival with a transplant for most patient groups is about the same (about 4.5 years, reflecting the fact that about 85% of patients survive 5 years after a transplant). So the utility of the transplant, while high, is more-or-less uniformly high, which means that it doesn&#8217;t really factor into the scores! It turns out that the algorithm is mostly just assessing need, that is, how long patients would survive <em>without</em> a transplant.</p><p>This is ironic because modeling post-transplant survival was <a href="https://nhsbtdbe.blob.core.windows.net/umbraco-assets-corp/7892/national-liver-offering-roadshow-presentation.pdf">claimed</a> to be the main reason to use this system over the previous one. If it keeps more people from dying, we suspect it is simply because it does a better job of assessing need, and/or because the use of the algorithm coincided with a move from regional to national systems, allowing it to better cater to high-need patients in previously under-served regions.</p><p>The fact that the system isn&#8217;t very good at meeting its stated objectives only seems to have been <a href="https://pubmed.ncbi.nlm.nih.gov/37516542/">reported</a> a decade after the algorithm was developed (although in retrospect, there were clear signals in the results of the <a href="https://bts.org.uk/wp-content/uploads/2018/04/NHSBT-John-OGrady.pdf">simulations</a> that were run before deployment). Specifically, it is noted in the comment-and-response section of a <a href="https://www.thelancet.com/journals/lancet/article/PIIS0140-6736(23)00114-9/fulltext">paper</a> about the algorithm. In terms of obscurity, that&#8217;s the academic equivalent of Wikipedia&#8217;s Talk pages &#8212; most of the public wouldn&#8217;t even know such a thing exists.&nbsp;</p><h3><strong>An algorithmic absurdity: cancer improves survival</strong></h3><p>While the authors of the above paper mention in passing that one of the two models in the algorithm (post-transplant survival) doesn&#8217;t seem to do much, their <a href="https://www.thelancet.com/journals/lancet/article/PIIS0140-6736(23)00114-9/fulltext">main point</a> is about the other model &#8212; the one that assesses need by predicting survival on the waiting list. They show that it expects patients with cancer to survive <em>longer</em> than those without cancer (all else being equal). This kind of thing is sometimes called algorithmic absurdity, something that would seem obviously wrong to a person based on common sense.</p><p>The prediction about patients with cancer is not just an oddity &#8212; it has big consequences for patients&#8217; lives: &#8220;for the first 3 years of the TBS scheme (excluding the period when TBS offering was suspended due to COVID-19), patients with cancer were rarely allocated livers by the TBS model&#8221;. This is what led to the 2022 revision of the algorithm.</p><p>The finding is reminiscent of a well-known failure from a few decades ago wherein a model <a href="https://pubmed.ncbi.nlm.nih.gov/9040894/">predicted</a> that patients with asthma were at <em>lower</em> risk of developing complications from pneumonia. Fortunately this was spotted before the model was deployed. It turned out to be a correct pattern in the data, but only because asthmatic patients were sent to the ICU, where they received better care. Of course, it would have been disastrous to replace that very policy with the ML model that treated asthmatic patients as lower risk. That case study has become a textbook illustration of the usefulness of <a href="https://dl.acm.org/doi/10.1145/2783258.2788613">interpretable</a> models over black-box models. If researchers can easily examine the coefficients of the model, implausible behaviors become more readily apparent.</p><p>The TBS does use interpretable regression models. But it is actually two different sets of models, one for patients with cancer and one for patients without cancer, because the two groups are represented by two different data sources. That explains why the implausible behavior of the algorithm may have arisen &#8212; the patient populations are different; perhaps the population from which the cancer patients were drawn was younger or healthier in other ways. Of course, this doesn&#8217;t justify the algorithm&#8217;s behavior where flipping a <em>specific</em> patient from non-cancer to cancer increases the predicted survival. The fact that there are two different sets of models may also explain why it went undetected for so long &#8212; the problem is not obvious from the regression coefficients and can only be detected by simulating a patient population.</p><h3><strong>Sleepwalking into utilitarian ethics</strong></h3><p>Predictive logic bakes in a utilitarian worldview &#8212; the most good for the greatest number. That makes it hard to incorporate a notion of deservingness. Many people have a strong moral intuition that patients whose conditions result from factors outside their control are more deserving of help. From the Financial Times article:</p><blockquote><p>Trivedi [the hepatologist] said patients found [the bias against younger patients] particularly unfair, because younger people tended to be born with liver disease or develop it as children, while older patients more often contracted chronic liver disease because of lifestyle choices such as drinking alcohol.</p></blockquote><p>Donor preferences are also neglected. For example, presumably some donors would prefer to help someone in their own community. But in the utilitarian worldview, this is simply <a href="https://www.jstor.org/stable/2265052?seq=4">geographic discrimination</a>. (Our point is not about whether deservingness or donor preferences are important considerations, but rather that the algorithm dictates the ethical framework.)&nbsp;</p><p>Traditionally, individual physicians made decisions about transplants without much formal reasoning or accountability. But with routinization and increasing scale of organ transplantation, and the shift to nationwide matching systems, manual matching is no longer feasible. Automation has forced decision makers to make the matching criteria explicit. This formalization can be a <a href="https://dl.acm.org/doi/abs/10.1145/3351095.3372871">good thing</a>, as it allows ethical debate about the pros and cons of precisely specified policies.</p><p>But automation has also privileged utilitarianism, as it is much more amenable to calculation. Non-utilitarian considerations resist quantification. No committee of decision makers would want to be in charge of determining how much of a penalty to apply to patients who drank alcohol, and whatever choice they made would meet fierce objection. In contrast, the veneer of data-driven decision making, even though it hides many normative choices, allows decision makers to reach consensus and to deploy algorithms without endless debate.</p><p>For this reason, utilitarianism has been ascendant in many, many domains over the last few decades, including medical ethics and public health.</p><p>While the liver matching algorithm optimizes life years (albeit poorly), other algorithms and institutions go one step further and optimize &#8220;quality-adjusted&#8221; life years, taking into account factors such as how well a person is able to complete daily tasks and how much pain they are in. Quality adjustment has side-effects such as giving lower preference to disabled people.</p><p>Overall, we are not necessarily against this shift to utilitarian logic, but we think it should only be adopted if it is the result of a democratic process, not just because it&#8217;s more convenient. The tail shouldn&#8217;t wag the dog. It isn&#8217;t clear to what extent the wider public is even aware of the widespread shift to nationalized transplant systems &#8212; in many countries, for many organs &#8212; and the ethical logics that underpin them. Public input about <em>specific</em> systems, such as the one we&#8217;ve discussed, is not a replacement for broad societal consensus on the underlying moral frameworks. Nor should this debate be confined to the <a href="https://www.cambridge.org/core/journals/cambridge-quarterly-of-healthcare-ethics/article/does-the-united-states-do-it-better-a-comparative-analysis-of-liver-allocation-protocols-in-the-united-kingdom-and-the-united-states/681D3480F8940AF51D65B3E4114DEBA5">medical ethics</a> literature.&nbsp;</p><h3><strong>What&#8217;s next</strong></h3><p>The liver allocation algorithm was developed and is run by the National Health Service (NHS), the UK&#8217;s publicly-funded health system. We&#8217;ve previously explained in this newsletter that <a href="https://www.aisnakeoil.com/p/the-bait-and-switch-behind-ai-risk">bad outcomes</a> result when public sector agencies outsource algorithmic decision making systems to opaque, profit-oriented companies. That&#8217;s not the case here. The developers are doing their best to save lives. A lot of thought and care went into the system, and there was public input. If there were missteps, they are a result of how hard the problem is.</p><p>There are clear problems with the liver allocation algorithm that can and should be addressed. There are at least three ways to mitigate the age bias. The first is to collect more and better data. The second is to put a thumb on the algorithm&#8217;s scale to ensure that the age distribution of recipients is roughly in line with society&#8217;s normative ideals. This can be achieved by formulating a constrained optimization problem (there are many papers on algorithmic fairness that show how to do this). The third is to stop using age as a factor. We don&#8217;t like this approach for reasons described above, but it is perhaps more easily defensible to non-experts.</p><p>The <a href="https://www.odt.nhs.uk/transplantation/liver/liver-advisory-group/">Liver Advisory Group</a> is the entity with the power to effect changes. The members meet every six months. Unfortunately they haven&#8217;t yet uploaded their minutes from their May 2024 meeting, so it isn&#8217;t clear if they are paying attention.&nbsp;</p><p>The deeper, systemic problem will be harder to address &#8212; inadequate transparency and public participation in medical ethics. The rapid adoption of AI for medical decision making requires a whole-of-society ethical debate. This isn&#8217;t about specific algorithms but about the bundle of unexamined assumptions behind their claim to efficacy and thus to legitimacy. Better late than never.</p><p>Zooming out beyond medicine, the pitfalls that arise in disparate applications of predictive decision making bear <a href="https://predictive-optimization.cs.princeton.edu/">striking similarities</a> with each other. This calls for <a href="https://www.birs.ca/events/2024/5-day-workshops/24w5283">more research</a> on avoiding these flaws as well as a community of practitioners from different fields who can learn from each other. Venues such as the <a href="https://facctconference.org/">conference on Fairness, Accountability, and Transparency</a> can bring such cross-cutting groups together.</p><h4><strong>Further reading</strong></h4><ul><li><p><em><a href="https://www.science.org/doi/10.1126/science.aax2342">Dissecting racial bias in an algorithm used to manage the health of populations</a></em> is a classic paper that revealed how the use of the wrong target variable can lead to severe biases.</p></li><li><p><em><a href="https://www.russellsage.org/publications/voices-code">Voices in the Code</a></em> is an excellent book that details the development of a kidney matching algorithm in the U.S. It shows the benefits of public participation &#8212; how it can uncover flaws in algorithms that developers had not anticipated, and increase the legitimacy of the system that is ultimately deployed. But participation is no panacea. The process discussed in the book took a decade, during which time a far worse system remained in place. And participatory development of a specific system does not obviate the need for a broader public debate on the utilitarian and algorithmic turn in medical ethics.</p></li></ul><h4><strong>Acknowledgment</strong></h4><p>We are grateful to Emma Pierson for feedback on a draft of this essay.</p><div class="footnote"><a class="footnote-number" contenteditable="false" href="https://www.aisnakeoil.com/feed#footnote-anchor-1" id="footnote-1" target="_self">1</a><div class="footnote-content"><p>For more details on the previous system, see <a href="https://aasldpubs.onlinelibrary.wiley.com/doi/pdf/10.1002/lt.24462">this article</a>.</p></div></div><div class="footnote"><a class="footnote-number" contenteditable="false" href="https://www.aisnakeoil.com/feed#footnote-anchor-2" id="footnote-2" target="_self">2</a><div class="footnote-content"><p>There are many other differences between human and algorithmic decision making. Algorithms tend to be much better at optimizing a given objective, such as maximizing the number of life years gained through transplantation. But human decision makers can more easily incorporate multiple objectives, especially non-utilitarian ones. Human decision makers of course have their own biases; whose biases are worse and which ones are easier to mitigate are complex questions whose answers are context-dependent.</p><p></p></div></div>